<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">

<dom-module id="final-download">
  <template>
  <style is="custom-style" include="iron-flex iron-flex-alignment iron-flex-factors shared-styles">
  </style>
  <paper-dialog
  opened={{finaldownloaddialog}}
  entry-animation="scale-up-animation"
  exit-animation="fade-out-animation"
  with-backdrop
  >
  <h2>Confirm download options</h2>
  <div class="layout horizontal center-center">
    <paper-input
    id="filepath"
    class="flex-1"
    label="Path to save file"
    placeholder="e.g. C:\Users\User\Videos"
    error-message="This is not a valid file path"
    auto-validate
    ></paper-input>
    <paper-icon-button
    id="selectButton"
    icon="more-horiz"
    alt="Select file path"
    ></paper-icon-button>
    <paper-tooltip for="filepath">Select file path</paper-tooltip>
  </div>
  <div class="buttons">
    <paper-button dialog-dismiss>cancel</paper-button>
    <paper-button
    id="start"
    dialog-confirm
    >start</paper-button>
  </div>
</paper-dialog>
</template>

</dom-module>

<script>

Polymer({
  is: 'final-download',

  behaviors: [
    Polymer.NeonAnimationRunnerBehavior
  ],

  properties: {
    auth: {
      type: Boolean
    },
    finaldownloaddialog: {
      type: Boolean,
      notify: true
    },
    url: {
      type: String,
      notify: true
    },
    username: {
      type: String,
      notify: true
    },
    password: {
      type: String,
      notify: true
    }
  },

  ready: function() {
    // attach event listeners on dom ready
    this.listen(this.$.start, 'tap', 'onStart');
  },

  onStart: function () {
    // clear user name and password as well
    this.username = '';
    this.password = '';
  }
});
</script>
